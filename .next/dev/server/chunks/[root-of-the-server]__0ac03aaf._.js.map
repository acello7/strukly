{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\nimport { getAnalytics, isSupported } from \"firebase/analytics\";\n\n// Ensure required NEXT_PUBLIC_FIREBASE_* env vars are present so the SDK\n// doesn't fail with a vague \"configuration-not-found\" error at runtime.\nconst requiredFirebaseEnv = [\n  'NEXT_PUBLIC_FIREBASE_API_KEY',\n  'NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN',\n  'NEXT_PUBLIC_FIREBASE_DATABASE_URL',\n  'NEXT_PUBLIC_FIREBASE_PROJECT_ID',\n  'NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET',\n  'NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID',\n  'NEXT_PUBLIC_FIREBASE_APP_ID',\n  'NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID',\n];\n\n// Only validate env vars on the server during module evaluation. In the\n// browser `process.env` may not be available in the same way and Next's\n// runtime will inline NEXT_PUBLIC_* values at build, so checking here can\n// produce false positives and noisy console errors in development.\nlet missing: string[] = []\nif (typeof window === 'undefined') {\n  missing = requiredFirebaseEnv.filter((k) => !process.env[k])\n  if (missing.length > 0) {\n    const msg = `Missing required Firebase env vars: ${missing.join(', ')}.\\n` +\n      `Add them to your local env (e.g. .env.local) or your hosting environment. ` +\n      `Example keys: ${requiredFirebaseEnv.join(', ')}`;\n    // Throw on the server so the developer sees a clear error immediately.\n    throw new Error(msg)\n  }\n} else {\n  // In client bundles avoid logging an error here â€” instead rely on server-side\n  // diagnostics endpoint (`/debug`) and Firebase SDK errors which are more\n  // reliable for runtime failures. Keep `missing` empty for diagnostics.\n  missing = []\n}\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\n};\n\n// Initialize Firebase\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApp();\n\n// Initialize services\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const storage = getStorage(app);\n\n// Initialize Analytics only on client side\nexport const analytics = typeof window !== \"undefined\" ? isSupported().then(yes => yes ? getAnalytics(app) : null) : null;\n\nexport default app;\n\n// Diagnostic helper to inspect the initialized Firebase options at runtime.\nexport function getFirebaseDiagnostics() {\n  try {\n    const options = app.options || null;\n    return {\n      initialized: !!options,\n      options,\n      missingEnv: missing,\n    };\n  } catch (e) {\n    return { initialized: false, options: null, missingEnv: missing };\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;;AAEA,yEAAyE;AACzE,wEAAwE;AACxE,MAAM,sBAAsB;IAC1B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,wEAAwE;AACxE,wEAAwE;AACxE,0EAA0E;AAC1E,mEAAmE;AACnE,IAAI,UAAoB,EAAE;AAC1B,wCAAmC;IACjC,UAAU,oBAAoB,MAAM,CAAC,CAAC,IAAM,CAAC,QAAQ,GAAG,CAAC,EAAE;IAC3D,IAAI,QAAQ,MAAM,GAAG,GAAG;QACtB,MAAM,MAAM,CAAC,oCAAoC,EAAE,QAAQ,IAAI,CAAC,MAAM,GAAG,CAAC,GACxE,CAAC,0EAA0E,CAAC,GAC5E,CAAC,cAAc,EAAE,oBAAoB,IAAI,CAAC,OAAO;QACnD,uEAAuE;QACvE,MAAM,IAAI,MAAM;IAClB;AACF,OAAO;IACL,8EAA8E;IAC9E,yEAAyE;IACzE,uEAAuE;IACvE,UAAU,EAAE;AACd;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,WAAW;IACX,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,wLAAO,IAAG,MAAM,KAAK,IAAI,IAAA,8LAAa,EAAC,kBAAkB,IAAA,uLAAM;AAGpE,MAAM,OAAO,IAAA,0LAAO,EAAC;AACrB,MAAM,KAAK,IAAA,8LAAY,EAAC;AACxB,MAAM,UAAU,IAAA,+MAAU,EAAC;AAG3B,MAAM,YAAY,sCAAgC,0BAA4D;uCAEtG;AAGR,SAAS;IACd,IAAI;QACF,MAAM,UAAU,IAAI,OAAO,IAAI;QAC/B,OAAO;YACL,aAAa,CAAC,CAAC;YACf;YACA,YAAY;QACd;IACF,EAAE,OAAO,GAAG;QACV,OAAO;YAAE,aAAa;YAAO,SAAS;YAAM,YAAY;QAAQ;IAClE;AACF"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/app/debug/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\r\nimport { getFirebaseDiagnostics } from '@/lib/firebase'\r\n\r\nexport async function GET() {\r\n  try {\r\n    const diag = getFirebaseDiagnostics()\r\n\r\n    // Mask sensitive env values but show presence and length\r\n    const mask = (v: any) => {\r\n      if (v == null) return null\r\n      const s = String(v)\r\n      if (s.length <= 6) return '******'\r\n      return s.slice(0, 3) + '...' + s.slice(-3)\r\n    }\r\n\r\n    const envs = {\r\n      NEXT_PUBLIC_FIREBASE_API_KEY: mask(process.env.NEXT_PUBLIC_FIREBASE_API_KEY),\r\n      NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN: mask(process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN),\r\n      NEXT_PUBLIC_FIREBASE_DATABASE_URL: mask(process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL),\r\n      NEXT_PUBLIC_FIREBASE_PROJECT_ID: mask(process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID),\r\n      NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET: mask(process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET),\r\n      NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID: mask(process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID),\r\n      NEXT_PUBLIC_FIREBASE_APP_ID: mask(process.env.NEXT_PUBLIC_FIREBASE_APP_ID),\r\n      NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID: mask(process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID),\r\n    }\r\n\r\n    return NextResponse.json({ ok: true, diag, envs })\r\n  } catch (err: any) {\r\n    return NextResponse.json({ ok: false, error: String(err) }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,IAAA,sJAAsB;QAEnC,yDAAyD;QACzD,MAAM,OAAO,CAAC;YACZ,IAAI,KAAK,MAAM,OAAO;YACtB,MAAM,IAAI,OAAO;YACjB,IAAI,EAAE,MAAM,IAAI,GAAG,OAAO;YAC1B,OAAO,EAAE,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE,KAAK,CAAC,CAAC;QAC1C;QAEA,MAAM,OAAO;YACX,8BAA8B;YAC9B,kCAAkC;YAClC,mCAAmC;YACnC,iCAAiC;YACjC,qCAAqC;YACrC,0CAA0C;YAC1C,6BAA6B;YAC7B,qCAAqC;QACvC;QAEA,OAAO,2JAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM;YAAM;QAAK;IAClD,EAAE,OAAO,KAAU;QACjB,OAAO,2JAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,OAAO,OAAO;QAAK,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF"}}]
}