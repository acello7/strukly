{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\nimport { getAnalytics, isSupported } from \"firebase/analytics\";\n\n// Ensure required NEXT_PUBLIC_FIREBASE_* env vars are present so the SDK\n// doesn't fail with a vague \"configuration-not-found\" error at runtime.\nconst requiredFirebaseEnv = [\n  'NEXT_PUBLIC_FIREBASE_API_KEY',\n  'NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN',\n  'NEXT_PUBLIC_FIREBASE_DATABASE_URL',\n  'NEXT_PUBLIC_FIREBASE_PROJECT_ID',\n  'NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET',\n  'NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID',\n  'NEXT_PUBLIC_FIREBASE_APP_ID',\n  'NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID',\n];\n\n// Only validate env vars on the server during module evaluation. In the\n// browser `process.env` may not be available in the same way and Next's\n// runtime will inline NEXT_PUBLIC_* values at build, so checking here can\n// produce false positives and noisy console errors in development.\nlet missing: string[] = []\nif (typeof window === 'undefined') {\n  missing = requiredFirebaseEnv.filter((k) => !process.env[k])\n  if (missing.length > 0) {\n    const msg = `Missing required Firebase env vars: ${missing.join(', ')}.\\n` +\n      `Add them to your local env (e.g. .env.local) or your hosting environment. ` +\n      `Example keys: ${requiredFirebaseEnv.join(', ')}`;\n    // Throw on the server so the developer sees a clear error immediately.\n    throw new Error(msg)\n  }\n} else {\n  // In client bundles avoid logging an error here â€” instead rely on server-side\n  // diagnostics endpoint (`/debug`) and Firebase SDK errors which are more\n  // reliable for runtime failures. Keep `missing` empty for diagnostics.\n  missing = []\n}\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\n};\n\n// Initialize Firebase\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApp();\n\n// Initialize services\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const storage = getStorage(app);\n\n// Initialize Analytics only on client side\nexport const analytics = typeof window !== \"undefined\" ? isSupported().then(yes => yes ? getAnalytics(app) : null) : null;\n\nexport default app;\n\n// Diagnostic helper to inspect the initialized Firebase options at runtime.\nexport function getFirebaseDiagnostics() {\n  try {\n    const options = app.options || null;\n    return {\n      initialized: !!options,\n      options,\n      missingEnv: missing,\n    };\n  } catch (e) {\n    return { initialized: false, options: null, missingEnv: missing };\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;;AAEA,yEAAyE;AACzE,wEAAwE;AACxE,MAAM,sBAAsB;IAC1B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,wEAAwE;AACxE,wEAAwE;AACxE,0EAA0E;AAC1E,mEAAmE;AACnE,IAAI,UAAoB,EAAE;AAC1B,wCAAmC;IACjC,UAAU,oBAAoB,MAAM,CAAC,CAAC,IAAM,CAAC,QAAQ,GAAG,CAAC,EAAE;IAC3D,IAAI,QAAQ,MAAM,GAAG,GAAG;QACtB,MAAM,MAAM,CAAC,oCAAoC,EAAE,QAAQ,IAAI,CAAC,MAAM,GAAG,CAAC,GACxE,CAAC,0EAA0E,CAAC,GAC5E,CAAC,cAAc,EAAE,oBAAoB,IAAI,CAAC,OAAO;QACnD,uEAAuE;QACvE,MAAM,IAAI,MAAM;IAClB;AACF,OAAO;IACL,8EAA8E;IAC9E,yEAAyE;IACzE,uEAAuE;IACvE,UAAU,EAAE;AACd;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,WAAW;IACX,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,sLAAO,IAAG,MAAM,KAAK,IAAI,IAAA,4LAAa,EAAC,kBAAkB,IAAA,qLAAM;AAGpE,MAAM,OAAO,IAAA,wLAAO,EAAC;AACrB,MAAM,KAAK,IAAA,4LAAY,EAAC;AACxB,MAAM,UAAU,IAAA,6MAAU,EAAC;AAG3B,MAAM,YAAY,sCAAgC,0BAA4D;uCAEtG;AAGR,SAAS;IACd,IAAI;QACF,MAAM,UAAU,IAAI,OAAO,IAAI;QAC/B,OAAO;YACL,aAAa,CAAC,CAAC;YACf;YACA,YAAY;QACd;IACF,EAAE,OAAO,GAAG;QACV,OAAO;YAAE,aAAa;YAAO,SAAS;YAAM,YAAY;QAAQ;IAClE;AACF"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/lib/auth-context.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport {\n  User,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  signOut,\n  onAuthStateChanged,\n  updateProfile,\n  GoogleAuthProvider,\n  signInWithPopup,\n} from \"firebase/auth\";\nimport { auth } from \"./firebase\";\nimport { doc, setDoc, getDoc } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  signup: (email: string, password: string, displayName: string) => Promise<void>;\n  login: (email: string, password: string) => Promise<void>;\n  logout: () => Promise<void>;\n  loginWithGoogle: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType>({} as AuthContextType);\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setUser(user);\n      setLoading(false);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const signup = async (email: string, password: string, displayName: string) => {\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n\n      // Update profile with display name\n      if (userCredential.user) {\n        await updateProfile(userCredential.user, { displayName });\n\n        // Create user document in Firestore\n        await setDoc(doc(db, \"users\", userCredential.user.uid), {\n          uid: userCredential.user.uid,\n          email: userCredential.user.email,\n          displayName: displayName,\n          createdAt: new Date().toISOString(),\n          totalReceipts: 0,\n          totalRevenue: 0,\n        });\n      }\n    } catch (err: any) {\n      // Log full error with code for debugging before rethrowing\n      // eslint-disable-next-line no-console\n      console.error('Signup failed:', { code: err?.code, message: err?.message, raw: err })\n      throw err\n    }\n  };\n\n  const login = async (email: string, password: string) => {\n    await signInWithEmailAndPassword(auth, email, password);\n  };\n\n  const loginWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    const result = await signInWithPopup(auth, provider);\n    \n    // Check if user document exists, create if not\n    const userDoc = await getDoc(doc(db, \"users\", result.user.uid));\n    if (!userDoc.exists()) {\n      await setDoc(doc(db, \"users\", result.user.uid), {\n        uid: result.user.uid,\n        email: result.user.email,\n        displayName: result.user.displayName,\n        createdAt: new Date().toISOString(),\n        totalReceipts: 0,\n        totalRevenue: 0,\n      });\n    }\n  };\n\n  const logout = async () => {\n    await signOut(auth);\n  };\n\n  const value = {\n    user,\n    loading,\n    signup,\n    login,\n    logout,\n    loginWithGoogle,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAUA;AACA;AAAA;AAdA;;;;;;;AA0BA,MAAM,4BAAc,IAAA,iOAAa,EAAkB,CAAC;AAE7C,SAAS;IACd,OAAO,IAAA,8NAAU,EAAC;AACpB;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,4NAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4NAAQ,EAAC;IAEvC,IAAA,6NAAS,EAAC;QACR,MAAM,cAAc,IAAA,mMAAkB,EAAC,kIAAI,EAAE,CAAC;YAC5C,QAAQ;YACR,WAAW;QACb;QAEA,OAAO;IACT,GAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe,UAAkB;QACrD,IAAI;YACF,MAAM,iBAAiB,MAAM,IAAA,+MAA8B,EAAC,kIAAI,EAAE,OAAO;YAEzE,mCAAmC;YACnC,IAAI,eAAe,IAAI,EAAE;gBACvB,MAAM,IAAA,8LAAa,EAAC,eAAe,IAAI,EAAE;oBAAE;gBAAY;gBAEvD,oCAAoC;gBACpC,MAAM,IAAA,sLAAM,EAAC,IAAA,mLAAG,EAAC,gIAAE,EAAE,SAAS,eAAe,IAAI,CAAC,GAAG,GAAG;oBACtD,KAAK,eAAe,IAAI,CAAC,GAAG;oBAC5B,OAAO,eAAe,IAAI,CAAC,KAAK;oBAChC,aAAa;oBACb,WAAW,IAAI,OAAO,WAAW;oBACjC,eAAe;oBACf,cAAc;gBAChB;YACF;QACF,EAAE,OAAO,KAAU;YACjB,2DAA2D;YAC3D,sCAAsC;YACtC,QAAQ,KAAK,CAAC,kBAAkB;gBAAE,MAAM,KAAK;gBAAM,SAAS,KAAK;gBAAS,KAAK;YAAI;YACnF,MAAM;QACR;IACF;IAEA,MAAM,QAAQ,OAAO,OAAe;QAClC,MAAM,IAAA,2MAA0B,EAAC,kIAAI,EAAE,OAAO;IAChD;IAEA,MAAM,kBAAkB;QACtB,MAAM,WAAW,IAAI,mMAAkB;QACvC,MAAM,SAAS,MAAM,IAAA,gMAAe,EAAC,kIAAI,EAAE;QAE3C,+CAA+C;QAC/C,MAAM,UAAU,MAAM,IAAA,sLAAM,EAAC,IAAA,mLAAG,EAAC,gIAAE,EAAE,SAAS,OAAO,IAAI,CAAC,GAAG;QAC7D,IAAI,CAAC,QAAQ,MAAM,IAAI;YACrB,MAAM,IAAA,sLAAM,EAAC,IAAA,mLAAG,EAAC,gIAAE,EAAE,SAAS,OAAO,IAAI,CAAC,GAAG,GAAG;gBAC9C,KAAK,OAAO,IAAI,CAAC,GAAG;gBACpB,OAAO,OAAO,IAAI,CAAC,KAAK;gBACxB,aAAa,OAAO,IAAI,CAAC,WAAW;gBACpC,WAAW,IAAI,OAAO,WAAW;gBACjC,eAAe;gBACf,cAAc;YAChB;QACF;IACF;IAEA,MAAM,SAAS;QACb,MAAM,IAAA,wLAAO,EAAC,kIAAI;IACpB;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,yPAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C"}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/components/ui/sonner.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useTheme } from 'next-themes'\r\nimport { Toaster as Sonner, ToasterProps } from 'sonner'\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n  const { theme = 'system' } = useTheme()\r\n\r\n  return (\r\n    <Sonner\r\n      theme={theme as ToasterProps['theme']}\r\n      className=\"toaster group\"\r\n      style={\r\n        {\r\n          '--normal-bg': 'var(--popover)',\r\n          '--normal-text': 'var(--popover-foreground)',\r\n          '--normal-border': 'var(--border)',\r\n        } as React.CSSProperties\r\n      }\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Toaster }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,IAAA,uKAAQ;IAErC,qBACE,yPAAC,8JAAM;QACL,OAAO;QACP,WAAU;QACV,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/app/client-layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { Analytics } from \"@vercel/analytics/next\"\nimport { useEffect, useState } from \"react\"\nimport { AuthProvider } from \"@/lib/auth-context\"\nimport { Toaster } from \"@/components/ui/sonner\"\n\nexport default function ClientLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode\n}>) {\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    setMounted(true)\n    const savedTheme = localStorage.getItem(\"theme\")\n    if (savedTheme === \"dark\") {\n      document.documentElement.classList.add(\"dark\")\n    } else if (savedTheme === \"light\") {\n      document.documentElement.classList.remove(\"dark\")\n    } else {\n      // Check system preference only if no saved theme\n      const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n      if (prefersDark) {\n        document.documentElement.classList.add(\"dark\")\n        localStorage.setItem(\"theme\", \"dark\")\n      } else {\n        localStorage.setItem(\"theme\", \"light\")\n      }\n    }\n  }, [])\n\n  return (\n    <AuthProvider>\n      {mounted && children}\n      <Toaster />\n      <Analytics />\n    </AuthProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AANA;;;;;;AAQe,SAAS,aAAa,EACnC,QAAQ,EAGR;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4NAAQ,EAAC;IAEvC,IAAA,6NAAS,EAAC;QACR,WAAW;QACX,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,eAAe,QAAQ;YACzB,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO,IAAI,eAAe,SAAS;YACjC,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C,OAAO;YACL,iDAAiD;YACjD,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;YAC7E,IAAI,aAAa;gBACf,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;gBACvC,aAAa,OAAO,CAAC,SAAS;YAChC,OAAO;gBACL,aAAa,OAAO,CAAC,SAAS;YAChC;QACF;IACF,GAAG,EAAE;IAEL,qBACE,yPAAC,kJAAY;;YACV,WAAW;0BACZ,yPAAC,iJAAO;;;;;0BACR,yPAAC,uLAAS;;;;;;;;;;;AAGhB"}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/lib/language-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { createContext, useContext, useEffect, useState } from \"react\"\r\n\r\ntype Language = \"id\" | \"en\"\r\n\r\ninterface LanguageContextType {\r\n  language: Language\r\n  setLanguage: (lang: Language) => void\r\n}\r\n\r\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined)\r\n\r\nexport function LanguageProvider({ children }: { children: React.ReactNode }) {\r\n  const [language, setLanguageState] = useState<Language>(\"id\")\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n    const saved = localStorage.getItem(\"language\") as Language | null\r\n    if (saved) {\r\n      setLanguageState(saved)\r\n    }\r\n  }, [])\r\n\r\n  const setLanguage = (lang: Language) => {\r\n    setLanguageState(lang)\r\n    localStorage.setItem(\"language\", lang)\r\n  }\r\n\r\n  if (!mounted) return <>{children}</>\r\n\r\n  return <LanguageContext.Provider value={{ language, setLanguage }}>{children}</LanguageContext.Provider>\r\n}\r\n\r\nexport function useLanguage() {\r\n  const context = useContext(LanguageContext)\r\n  if (!context) {\r\n    throw new Error(\"useLanguage must be used within LanguageProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AAYA,MAAM,gCAAkB,IAAA,iOAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,UAAU,iBAAiB,GAAG,IAAA,4NAAQ,EAAW;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4NAAQ,EAAC;IAEvC,IAAA,6NAAS,EAAC;QACR,WAAW;QACX,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,iBAAiB;QACnB;IACF,GAAG,EAAE;IAEL,MAAM,cAAc,CAAC;QACnB,iBAAiB;QACjB,aAAa,OAAO,CAAC,YAAY;IACnC;IAEA,IAAI,CAAC,SAAS,qBAAO;kBAAG;;IAExB,qBAAO,yPAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;QAAY;kBAAI;;;;;;AACtE;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,8NAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}}]
}