{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kimoc/OneDrive/Desktop/KolosalAProject/strukly/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\nimport { getAnalytics, isSupported } from \"firebase/analytics\";\r\n\r\n// Ensure required NEXT_PUBLIC_FIREBASE_* env vars are present so the SDK\r\n// doesn't fail with a vague \"configuration-not-found\" error at runtime.\r\nconst requiredFirebaseEnv = [\r\n  'NEXT_PUBLIC_FIREBASE_API_KEY',\r\n  'NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN',\r\n  'NEXT_PUBLIC_FIREBASE_DATABASE_URL',\r\n  'NEXT_PUBLIC_FIREBASE_PROJECT_ID',\r\n  'NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET',\r\n  'NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID',\r\n  'NEXT_PUBLIC_FIREBASE_APP_ID',\r\n  'NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID',\r\n];\r\n\r\n// Only validate env vars on the server during module evaluation. In the\r\n// browser `process.env` may not be available in the same way and Next's\r\n// runtime will inline NEXT_PUBLIC_* values at build, so checking here can\r\n// produce false positives and noisy console errors in development.\r\nlet missing: string[] = []\r\nif (typeof window === 'undefined') {\r\n  missing = requiredFirebaseEnv.filter((k) => !process.env[k])\r\n  if (missing.length > 0) {\r\n    const msg = `Missing required Firebase env vars: ${missing.join(', ')}.\\n` +\r\n      `Add them to your local env (e.g. .env.local) or your hosting environment. ` +\r\n      `Example keys: ${requiredFirebaseEnv.join(', ')}`;\r\n    // Throw on the server so the developer sees a clear error immediately.\r\n    throw new Error(msg)\r\n  }\r\n} else {\r\n  // In client bundles avoid logging an error here â€” instead rely on server-side\r\n  // diagnostics endpoint (`/debug`) and Firebase SDK errors which are more\r\n  // reliable for runtime failures. Keep `missing` empty for diagnostics.\r\n  missing = []\r\n}\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApp();\r\n\r\n// Initialize services\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\n\r\n// Initialize Analytics only on client side\r\nexport const analytics = typeof window !== \"undefined\" ? isSupported().then(yes => yes ? getAnalytics(app) : null) : null;\r\n\r\nexport default app;\r\n\r\n// Diagnostic helper to inspect the initialized Firebase options at runtime.\r\nexport function getFirebaseDiagnostics() {\r\n  try {\r\n    const options = app.options || null;\r\n    return {\r\n      initialized: !!options,\r\n      options,\r\n      missingEnv: missing,\r\n    };\r\n  } catch (e) {\r\n    return { initialized: false, options: null, missingEnv: missing };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;;AAEA,yEAAyE;AACzE,wEAAwE;AACxE,MAAM,sBAAsB;IAC1B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,wEAAwE;AACxE,wEAAwE;AACxE,0EAA0E;AAC1E,mEAAmE;AACnE,IAAI,UAAoB,EAAE;AAC1B,wCAAmC;IACjC,UAAU,oBAAoB,MAAM,CAAC,CAAC,IAAM,CAAC,QAAQ,GAAG,CAAC,EAAE;IAC3D,IAAI,QAAQ,MAAM,GAAG,GAAG;QACtB,MAAM,MAAM,CAAC,oCAAoC,EAAE,QAAQ,IAAI,CAAC,MAAM,GAAG,CAAC,GACxE,CAAC,0EAA0E,CAAC,GAC5E,CAAC,cAAc,EAAE,oBAAoB,IAAI,CAAC,OAAO;QACnD,uEAAuE;QACvE,MAAM,IAAI,MAAM;IAClB;AACF,OAAO;IACL,8EAA8E;IAC9E,yEAAyE;IACzE,uEAAuE;IACvE,UAAU,EAAE;AACd;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,WAAW;IACX,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,iLAAa,EAAC,kBAAkB,IAAA,0KAAM;AAGpE,MAAM,OAAO,IAAA,6KAAO,EAAC;AACrB,MAAM,KAAK,IAAA,iLAAY,EAAC;AACxB,MAAM,UAAU,IAAA,kMAAU,EAAC;AAG3B,MAAM,YAAY,sCAAgC,0BAA4D;uCAEtG;AAGR,SAAS;IACd,IAAI;QACF,MAAM,UAAU,IAAI,OAAO,IAAI;QAC/B,OAAO;YACL,aAAa,CAAC,CAAC;YACf;YACA,YAAY;QACd;IACF,EAAE,OAAO,GAAG;QACV,OAAO;YAAE,aAAa;YAAO,SAAS;YAAM,YAAY;QAAQ;IAClE;AACF"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kimoc/OneDrive/Desktop/KolosalAProject/strukly/lib/auth-context.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  User,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  onAuthStateChanged,\r\n  updateProfile,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n} from \"firebase/auth\";\r\nimport { auth } from \"./firebase\";\r\nimport { doc, setDoc, getDoc } from \"firebase/firestore\";\r\nimport { db } from \"./firebase\";\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  loading: boolean;\r\n  signup: (email: string, password: string, displayName: string) => Promise<void>;\r\n  login: (email: string, password: string) => Promise<void>;\r\n  logout: () => Promise<void>;\r\n  loginWithGoogle: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({} as AuthContextType);\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const signup = async (email: string, password: string, displayName: string) => {\r\n    try {\r\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n\r\n      // Update profile with display name\r\n      if (userCredential.user) {\r\n        await updateProfile(userCredential.user, { displayName });\r\n\r\n        // Create user document in Firestore\r\n        await setDoc(doc(db, \"users\", userCredential.user.uid), {\r\n          uid: userCredential.user.uid,\r\n          email: userCredential.user.email,\r\n          displayName: displayName,\r\n          createdAt: new Date().toISOString(),\r\n          totalReceipts: 0,\r\n          totalRevenue: 0,\r\n        });\r\n      }\r\n    } catch (err: any) {\r\n      // Log full error with code for debugging before rethrowing\r\n      // eslint-disable-next-line no-console\r\n      console.error('Signup failed:', { code: err?.code, message: err?.message, raw: err })\r\n      throw err\r\n    }\r\n  };\r\n\r\n  const login = async (email: string, password: string) => {\r\n    await signInWithEmailAndPassword(auth, email, password);\r\n  };\r\n\r\n  const loginWithGoogle = async () => {\r\n    const provider = new GoogleAuthProvider();\r\n    const result = await signInWithPopup(auth, provider);\r\n    \r\n    // Check if user document exists, create if not\r\n    const userDoc = await getDoc(doc(db, \"users\", result.user.uid));\r\n    if (!userDoc.exists()) {\r\n      await setDoc(doc(db, \"users\", result.user.uid), {\r\n        uid: result.user.uid,\r\n        email: result.user.email,\r\n        displayName: result.user.displayName,\r\n        createdAt: new Date().toISOString(),\r\n        totalReceipts: 0,\r\n        totalRevenue: 0,\r\n      });\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    await signOut(auth);\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    loading,\r\n    signup,\r\n    login,\r\n    logout,\r\n    loginWithGoogle,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAUA;AACA;AAAA;AAdA;;;;;;;AA0BA,MAAM,4BAAc,IAAA,sNAAa,EAAkB,CAAC;AAE7C,SAAS;IACd,OAAO,IAAA,mNAAU,EAAC;AACpB;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc,IAAA,wLAAkB,EAAC,uHAAI,EAAE,CAAC;YAC5C,QAAQ;YACR,WAAW;QACb;QAEA,OAAO;IACT,GAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe,UAAkB;QACrD,IAAI;YACF,MAAM,iBAAiB,MAAM,IAAA,oMAA8B,EAAC,uHAAI,EAAE,OAAO;YAEzE,mCAAmC;YACnC,IAAI,eAAe,IAAI,EAAE;gBACvB,MAAM,IAAA,mLAAa,EAAC,eAAe,IAAI,EAAE;oBAAE;gBAAY;gBAEvD,oCAAoC;gBACpC,MAAM,IAAA,2KAAM,EAAC,IAAA,wKAAG,EAAC,qHAAE,EAAE,SAAS,eAAe,IAAI,CAAC,GAAG,GAAG;oBACtD,KAAK,eAAe,IAAI,CAAC,GAAG;oBAC5B,OAAO,eAAe,IAAI,CAAC,KAAK;oBAChC,aAAa;oBACb,WAAW,IAAI,OAAO,WAAW;oBACjC,eAAe;oBACf,cAAc;gBAChB;YACF;QACF,EAAE,OAAO,KAAU;YACjB,2DAA2D;YAC3D,sCAAsC;YACtC,QAAQ,KAAK,CAAC,kBAAkB;gBAAE,MAAM,KAAK;gBAAM,SAAS,KAAK;gBAAS,KAAK;YAAI;YACnF,MAAM;QACR;IACF;IAEA,MAAM,QAAQ,OAAO,OAAe;QAClC,MAAM,IAAA,gMAA0B,EAAC,uHAAI,EAAE,OAAO;IAChD;IAEA,MAAM,kBAAkB;QACtB,MAAM,WAAW,IAAI,wLAAkB;QACvC,MAAM,SAAS,MAAM,IAAA,qLAAe,EAAC,uHAAI,EAAE;QAE3C,+CAA+C;QAC/C,MAAM,UAAU,MAAM,IAAA,2KAAM,EAAC,IAAA,wKAAG,EAAC,qHAAE,EAAE,SAAS,OAAO,IAAI,CAAC,GAAG;QAC7D,IAAI,CAAC,QAAQ,MAAM,IAAI;YACrB,MAAM,IAAA,2KAAM,EAAC,IAAA,wKAAG,EAAC,qHAAE,EAAE,SAAS,OAAO,IAAI,CAAC,GAAG,GAAG;gBAC9C,KAAK,OAAO,IAAI,CAAC,GAAG;gBACpB,OAAO,OAAO,IAAI,CAAC,KAAK;gBACxB,aAAa,OAAO,IAAI,CAAC,WAAW;gBACpC,WAAW,IAAI,OAAO,WAAW;gBACjC,eAAe;gBACf,cAAc;YAChB;QACF;IACF;IAEA,MAAM,SAAS;QACb,MAAM,IAAA,6KAAO,EAAC,uHAAI;IACpB;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C"}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kimoc/OneDrive/Desktop/KolosalAProject/strukly/components/ui/sonner.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useTheme } from 'next-themes'\r\nimport { Toaster as Sonner, ToasterProps } from 'sonner'\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n  const { theme = 'system' } = useTheme()\r\n\r\n  return (\r\n    <Sonner\r\n      theme={theme as ToasterProps['theme']}\r\n      className=\"toaster group\"\r\n      style={\r\n        {\r\n          '--normal-bg': 'var(--popover)',\r\n          '--normal-text': 'var(--popover-foreground)',\r\n          '--normal-border': 'var(--border)',\r\n        } as React.CSSProperties\r\n      }\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Toaster }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,IAAA,4JAAQ;IAErC,qBACE,8OAAC,mJAAM;QACL,OAAO;QACP,WAAU;QACV,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kimoc/OneDrive/Desktop/KolosalAProject/strukly/app/client-layout.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { Analytics } from \"@vercel/analytics/next\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { AuthProvider } from \"@/lib/auth-context\"\r\nimport { Toaster } from \"@/components/ui/sonner\"\r\n\r\nexport default function ClientLayout({\r\n  children,\r\n}: Readonly<{\r\n  children: React.ReactNode\r\n}>) {\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n    const savedTheme = localStorage.getItem(\"theme\")\r\n    if (savedTheme === \"dark\") {\r\n      document.documentElement.classList.add(\"dark\")\r\n    } else if (savedTheme === \"light\") {\r\n      document.documentElement.classList.remove(\"dark\")\r\n    } else {\r\n      // Check system preference only if no saved theme\r\n      const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches\r\n      if (prefersDark) {\r\n        document.documentElement.classList.add(\"dark\")\r\n        localStorage.setItem(\"theme\", \"dark\")\r\n      } else {\r\n        localStorage.setItem(\"theme\", \"light\")\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <AuthProvider>\r\n      {mounted && children}\r\n      <Toaster />\r\n      <Analytics />\r\n    </AuthProvider>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AANA;;;;;;AAQe,SAAS,aAAa,EACnC,QAAQ,EAGR;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,eAAe,QAAQ;YACzB,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO,IAAI,eAAe,SAAS;YACjC,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C,OAAO;YACL,iDAAiD;YACjD,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;YAC7E,IAAI,aAAa;gBACf,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;gBACvC,aAAa,OAAO,CAAC,SAAS;YAChC,OAAO;gBACL,aAAa,OAAO,CAAC,SAAS;YAChC;QACF;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC,uIAAY;;YACV,WAAW;0BACZ,8OAAC,sIAAO;;;;;0BACR,8OAAC,4KAAS;;;;;;;;;;;AAGhB"}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kimoc/OneDrive/Desktop/KolosalAProject/strukly/lib/language-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { createContext, useContext, useEffect, useState } from \"react\"\r\n\r\ntype Language = \"id\" | \"en\"\r\n\r\ninterface LanguageContextType {\r\n  language: Language\r\n  setLanguage: (lang: Language) => void\r\n}\r\n\r\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined)\r\n\r\nexport function LanguageProvider({ children }: { children: React.ReactNode }) {\r\n  const [language, setLanguageState] = useState<Language>(\"id\")\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n    const saved = localStorage.getItem(\"language\") as Language | null\r\n    if (saved) {\r\n      setLanguageState(saved)\r\n    }\r\n  }, [])\r\n\r\n  const setLanguage = (lang: Language) => {\r\n    setLanguageState(lang)\r\n    localStorage.setItem(\"language\", lang)\r\n  }\r\n\r\n  if (!mounted) return <>{children}</>\r\n\r\n  return <LanguageContext.Provider value={{ language, setLanguage }}>{children}</LanguageContext.Provider>\r\n}\r\n\r\nexport function useLanguage() {\r\n  const context = useContext(LanguageContext)\r\n  if (!context) {\r\n    throw new Error(\"useLanguage must be used within LanguageProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AAYA,MAAM,gCAAkB,IAAA,sNAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,UAAU,iBAAiB,GAAG,IAAA,iNAAQ,EAAW;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,iBAAiB;QACnB;IACF,GAAG,EAAE;IAEL,MAAM,cAAc,CAAC;QACnB,iBAAiB;QACjB,aAAa,OAAO,CAAC,YAAY;IACnC;IAEA,IAAI,CAAC,SAAS,qBAAO;kBAAG;;IAExB,qBAAO,8OAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;QAAY;kBAAI;;;;;;AACtE;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}}]
}