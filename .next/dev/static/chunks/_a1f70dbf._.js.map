{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\nimport { getAnalytics, isSupported } from \"firebase/analytics\";\n\n// Ensure required NEXT_PUBLIC_FIREBASE_* env vars are present so the SDK\n// doesn't fail with a vague \"configuration-not-found\" error at runtime.\nconst requiredFirebaseEnv = [\n  'NEXT_PUBLIC_FIREBASE_API_KEY',\n  'NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN',\n  'NEXT_PUBLIC_FIREBASE_DATABASE_URL',\n  'NEXT_PUBLIC_FIREBASE_PROJECT_ID',\n  'NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET',\n  'NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID',\n  'NEXT_PUBLIC_FIREBASE_APP_ID',\n  'NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID',\n];\n\nconst missing = requiredFirebaseEnv.filter((k) => !process.env[k]);\nif (missing.length > 0) {\n  const msg = `Missing required Firebase env vars: ${missing.join(', ')}.\\n` +\n    `Add them to your local env (e.g. .env.local) or your hosting environment. ` +\n    `Example keys: ${requiredFirebaseEnv.join(', ')}`;\n  // Throw on the server so the developer sees a clear error immediately.\n  if (typeof window === 'undefined') {\n    throw new Error(msg);\n  } else {\n    // On the client, log an error instead of throwing to avoid breaking the page.\n    // The SDK will still likely fail, but this provides clearer diagnostics in the console.\n    // eslint-disable-next-line no-console\n    console.error(msg);\n  }\n}\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\n};\n\n// Initialize Firebase\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApp();\n\n// Initialize services\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const storage = getStorage(app);\n\n// Initialize Analytics only on client side\nexport const analytics = typeof window !== \"undefined\" ? isSupported().then(yes => yes ? getAnalytics(app) : null) : null;\n\nexport default app;\n\n// Diagnostic helper to inspect the initialized Firebase options at runtime.\nexport function getFirebaseDiagnostics() {\n  try {\n    const options = app.options || null;\n    return {\n      initialized: !!options,\n      options,\n      missingEnv: missing,\n    };\n  } catch (e) {\n    return { initialized: false, options: null, missingEnv: missing };\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAmBmD;AAnBnD;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;;AAEA,yEAAyE;AACzE,wEAAwE;AACxE,MAAM,sBAAsB;IAC1B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,UAAU,oBAAoB,MAAM,CAAC,CAAC,IAAM,CAAC,2KAAO,CAAC,GAAG,CAAC,EAAE;AACjE,IAAI,QAAQ,MAAM,GAAG,GAAG;IACtB,MAAM,MAAM,CAAC,oCAAoC,EAAE,QAAQ,IAAI,CAAC,MAAM,GAAG,CAAC,GACxE,CAAC,0EAA0E,CAAC,GAC5E,CAAC,cAAc,EAAE,oBAAoB,IAAI,CAAC,OAAO;IACnD,uEAAuE;IACvE;;SAEO;QACL,8EAA8E;QAC9E,wFAAwF;QACxF,sCAAsC;QACtC,QAAQ,KAAK,CAAC;IAChB;AACF;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,WAAW;IACX,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,8KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,oLAAa,EAAC,kBAAkB,IAAA,6KAAM;AAGpE,MAAM,OAAO,IAAA,wKAAO,EAAC;AACrB,MAAM,KAAK,IAAA,kLAAY,EAAC;AACxB,MAAM,UAAU,IAAA,8KAAU,EAAC;AAG3B,MAAM,YAAY,uCAAgC,IAAA,wLAAW,IAAG,IAAI,CAAC,CAAA,MAAO,MAAM,IAAA,yLAAY,EAAC,OAAO,QAAQ;uCAEtG;AAGR,SAAS;IACd,IAAI;QACF,MAAM,UAAU,IAAI,OAAO,IAAI;QAC/B,OAAO;YACL,aAAa,CAAC,CAAC;YACf;YACA,YAAY;QACd;IACF,EAAE,OAAO,GAAG;QACV,OAAO;YAAE,aAAa;YAAO,SAAS;YAAM,YAAY;QAAQ;IAClE;AACF"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/lib/auth-context.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport {\n  User,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  signOut,\n  onAuthStateChanged,\n  updateProfile,\n  GoogleAuthProvider,\n  signInWithPopup,\n} from \"firebase/auth\";\nimport { auth } from \"./firebase\";\nimport { doc, setDoc, getDoc } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  signup: (email: string, password: string, displayName: string) => Promise<void>;\n  login: (email: string, password: string) => Promise<void>;\n  logout: () => Promise<void>;\n  loginWithGoogle: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType>({} as AuthContextType);\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setUser(user);\n      setLoading(false);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const signup = async (email: string, password: string, displayName: string) => {\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n    \n    // Update profile with display name\n    if (userCredential.user) {\n      await updateProfile(userCredential.user, { displayName });\n      \n      // Create user document in Firestore\n      await setDoc(doc(db, \"users\", userCredential.user.uid), {\n        uid: userCredential.user.uid,\n        email: userCredential.user.email,\n        displayName: displayName,\n        createdAt: new Date().toISOString(),\n        totalReceipts: 0,\n        totalRevenue: 0,\n      });\n    }\n  };\n\n  const login = async (email: string, password: string) => {\n    await signInWithEmailAndPassword(auth, email, password);\n  };\n\n  const loginWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    const result = await signInWithPopup(auth, provider);\n    \n    // Check if user document exists, create if not\n    const userDoc = await getDoc(doc(db, \"users\", result.user.uid));\n    if (!userDoc.exists()) {\n      await setDoc(doc(db, \"users\", result.user.uid), {\n        uid: result.user.uid,\n        email: result.user.email,\n        displayName: result.user.displayName,\n        createdAt: new Date().toISOString(),\n        totalReceipts: 0,\n        totalRevenue: 0,\n      });\n    }\n  };\n\n  const logout = async () => {\n    await signOut(auth);\n  };\n\n  const value = {\n    user,\n    loading,\n    signup,\n    login,\n    logout,\n    loginWithGoogle,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAUA;AACA;AAAA;;;AAdA;;;;;;AA0BA,MAAM,4BAAc,IAAA,8KAAa,EAAkB,CAAC;AAE7C,SAAS;;IACd,OAAO,IAAA,2KAAU,EAAC;AACpB;GAFgB;AAIT,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,MAAM,cAAc,IAAA,mLAAkB,EAAC,0HAAI;sDAAE,CAAC;oBAC5C,QAAQ;oBACR,WAAW;gBACb;;YAEA,OAAO;QACT;iCAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe,UAAkB;QACrD,MAAM,iBAAiB,MAAM,IAAA,+LAA8B,EAAC,0HAAI,EAAE,OAAO;QAEzE,mCAAmC;QACnC,IAAI,eAAe,IAAI,EAAE;YACvB,MAAM,IAAA,8KAAa,EAAC,eAAe,IAAI,EAAE;gBAAE;YAAY;YAEvD,oCAAoC;YACpC,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,wHAAE,EAAE,SAAS,eAAe,IAAI,CAAC,GAAG,GAAG;gBACtD,KAAK,eAAe,IAAI,CAAC,GAAG;gBAC5B,OAAO,eAAe,IAAI,CAAC,KAAK;gBAChC,aAAa;gBACb,WAAW,IAAI,OAAO,WAAW;gBACjC,eAAe;gBACf,cAAc;YAChB;QACF;IACF;IAEA,MAAM,QAAQ,OAAO,OAAe;QAClC,MAAM,IAAA,2LAA0B,EAAC,0HAAI,EAAE,OAAO;IAChD;IAEA,MAAM,kBAAkB;QACtB,MAAM,WAAW,IAAI,mLAAkB;QACvC,MAAM,SAAS,MAAM,IAAA,gLAAe,EAAC,0HAAI,EAAE;QAE3C,+CAA+C;QAC/C,MAAM,UAAU,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,wHAAE,EAAE,SAAS,OAAO,IAAI,CAAC,GAAG;QAC7D,IAAI,CAAC,QAAQ,MAAM,IAAI;YACrB,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,wHAAE,EAAE,SAAS,OAAO,IAAI,CAAC,GAAG,GAAG;gBAC9C,KAAK,OAAO,IAAI,CAAC,GAAG;gBACpB,OAAO,OAAO,IAAI,CAAC,KAAK;gBACxB,aAAa,OAAO,IAAI,CAAC,WAAW;gBACpC,WAAW,IAAI,OAAO,WAAW;gBACjC,eAAe;gBACf,cAAc;YAChB;QACF;IACF;IAEA,MAAM,SAAS;QACb,MAAM,IAAA,wKAAO,EAAC,0HAAI;IACpB;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;IApEgB;KAAA"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/components/ui/sonner.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useTheme } from 'next-themes'\r\nimport { Toaster as Sonner, ToasterProps } from 'sonner'\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n  const { theme = 'system' } = useTheme()\r\n\r\n  return (\r\n    <Sonner\r\n      theme={theme as ToasterProps['theme']}\r\n      className=\"toaster group\"\r\n      style={\r\n        {\r\n          '--normal-bg': 'var(--popover)',\r\n          '--normal-text': 'var(--popover-foreground)',\r\n          '--normal-border': 'var(--border)',\r\n        } as React.CSSProperties\r\n      }\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Toaster }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAErC,qBACE,6LAAC,sJAAM;QACL,OAAO;QACP,WAAU;QACV,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf;GAjBM;;QACyB,+JAAQ;;;KADjC"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/app/client-layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { Analytics } from \"@vercel/analytics/next\"\nimport { useEffect, useState } from \"react\"\nimport { AuthProvider } from \"@/lib/auth-context\"\nimport { Toaster } from \"@/components/ui/sonner\"\n\nexport default function ClientLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode\n}>) {\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    setMounted(true)\n    const savedTheme = localStorage.getItem(\"theme\")\n    if (savedTheme === \"dark\") {\n      document.documentElement.classList.add(\"dark\")\n    } else if (savedTheme === \"light\") {\n      document.documentElement.classList.remove(\"dark\")\n    } else {\n      // Check system preference only if no saved theme\n      const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n      if (prefersDark) {\n        document.documentElement.classList.add(\"dark\")\n        localStorage.setItem(\"theme\", \"dark\")\n      } else {\n        localStorage.setItem(\"theme\", \"light\")\n      }\n    }\n  }, [])\n\n  return (\n    <AuthProvider>\n      {mounted && children}\n      <Toaster />\n      <Analytics />\n    </AuthProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;;;AANA;;;;;AAQe,SAAS,aAAa,EACnC,QAAQ,EAGR;;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,WAAW;YACX,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,eAAe,QAAQ;gBACzB,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACzC,OAAO,IAAI,eAAe,SAAS;gBACjC,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC5C,OAAO;gBACL,iDAAiD;gBACjD,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;gBAC7E,IAAI,aAAa;oBACf,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;oBACvC,aAAa,OAAO,CAAC,SAAS;gBAChC,OAAO;oBACL,aAAa,OAAO,CAAC,SAAS;gBAChC;YACF;QACF;iCAAG,EAAE;IAEL,qBACE,6LAAC,0IAAY;;YACV,WAAW;0BACZ,6LAAC,yIAAO;;;;;0BACR,6LAAC,+KAAS;;;;;;;;;;;AAGhB;GAjCwB;KAAA"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvin/Documents/strukly2/strukly/lib/language-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { createContext, useContext, useEffect, useState } from \"react\"\r\n\r\ntype Language = \"id\" | \"en\"\r\n\r\ninterface LanguageContextType {\r\n  language: Language\r\n  setLanguage: (lang: Language) => void\r\n}\r\n\r\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined)\r\n\r\nexport function LanguageProvider({ children }: { children: React.ReactNode }) {\r\n  const [language, setLanguageState] = useState<Language>(\"id\")\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n    const saved = localStorage.getItem(\"language\") as Language | null\r\n    if (saved) {\r\n      setLanguageState(saved)\r\n    }\r\n  }, [])\r\n\r\n  const setLanguage = (lang: Language) => {\r\n    setLanguageState(lang)\r\n    localStorage.setItem(\"language\", lang)\r\n  }\r\n\r\n  if (!mounted) return <>{children}</>\r\n\r\n  return <LanguageContext.Provider value={{ language, setLanguage }}>{children}</LanguageContext.Provider>\r\n}\r\n\r\nexport function useLanguage() {\r\n  const context = useContext(LanguageContext)\r\n  if (!context) {\r\n    throw new Error(\"useLanguage must be used within LanguageProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;;;AAHA;;AAYA,MAAM,gCAAkB,IAAA,8KAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;;IAC1E,MAAM,CAAC,UAAU,iBAAiB,GAAG,IAAA,yKAAQ,EAAW;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;sCAAC;YACR,WAAW;YACX,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,iBAAiB;YACnB;QACF;qCAAG,EAAE;IAEL,MAAM,cAAc,CAAC;QACnB,iBAAiB;QACjB,aAAa,OAAO,CAAC,YAAY;IACnC;IAEA,IAAI,CAAC,SAAS,qBAAO;kBAAG;;IAExB,qBAAO,6LAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;QAAY;kBAAI;;;;;;AACtE;GApBgB;KAAA;AAsBT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}